<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animalgram</title>
    <link rel="stylesheet" href="css/home.css" />
    <link rel="icon" href="icon/animals.png" >
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
        />
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js"></script>
    <div class="side-bar">
        <div class="upperside-bar">
            <p class="icon-p" type="button"><a href="/ig"><i class="fa-solid fa-house"></i> Home</a></p>
            <p class="icon-p" type="button"><a href="/search"><i class="fa-solid fa-magnifying-glass"></i> Search </a></p>
            <p class="icon-p" type="button"><i class="fa-solid fa-rotate-right" style="opacity: 1;"></i> Explore</p>
            <p class="icon-p" type="button"><i class="fa-solid fa-film"></i> Reels</p>
            <p class="icon-p" type="button"><i class="fa-solid fa-envelope"></i> Message</p>
            <p class="icon-p" type="button"><i class="fa-solid fa-heart"></i> Like</p>
            <p class="icon-p" type="button"><i class="fa-solid fa-plus"></i> Create</p>
            <a href="/ig/tiger247" id="pfAnchor">
                <p class="icon-p" type="button" id="profile"><i class="fa-solid fa-user"></i>Profile</p>
            </a>
        </div>
        <div class="lowerside-bar">
            <p class="icon-p" type="button"><i class="fa-solid fa-share"></i>Threads</p>
            <p class="icon-p" type="button"><i class="fa-regular fa-sun"></i>Settings</p>
        </div>
    </div>
    <div class="main-area">
        <div class="stories">
            <% Object.keys(data).forEach(function(animalKey) { %>
                <a href="/ig/<%= animalKey %>" class="story">
                    <img src="<%= data[animalKey].profile %>" alt="<%= data[animalKey].name %>">
                    <p><%= data[animalKey].name %></p>
                </a>
            <% }); %>
        </div>
        <div class="content-area">
            <div class="main-content">
                <div class="content">
                    <div class="post">
                        <div class="user-info">
                            <img src="" alt="" id="profileImg">
                            <div class="userData">
                                <p class="userId">Jerry123</p>
                                <p class="location">california</p>
                            </div>
                            <div class="followBtn">
                                <button class="button-23" role="button">Follow</button>
                            </div>
                        </div>
                        <div class="mainImage">
                            <img src="" alt="" id="mainImg">
                        </div>
                        <div class="interactions">
                            <div class="like">
                                <i class="fa-regular fa-heart" id="lkicon"></i>
                                <p class="lkcount">195</p>
                            </div>
                            <div class="comment">
                                <i class="fa-regular fa-comment"></i>
                                <p class="cmtcount">22</p>
                            </div>
                            <div class="share">
                                <i class="fa-solid fa-share"></i>
                                <p class="shrcount">2</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="suggestion">
        <div class="text">
            <p class="sugg">Suggested for you</p>
            <p class="see">See all</p>
        </div>
        <div class="suggrows">
            <% Object.keys(data).forEach(function(animalKey) { %>
                <div class="row">
                    <img src="<%= data[animalKey].profile %>" alt="<%= data[animalKey].name %>" class="rowImg">
                    <div class="bound">
                        <p class="name"><%= data[animalKey].name %></p>
                        <p>Followed by Jerry123</p>
                    </div>
                    <p class="follow">Follow</p>
                </div>
            <% }); %>
        </div>
    </div>
    <script>
        let profileImg = document.querySelector("#profileImg");
        let mainImg = document.querySelector("#mainImg");

        let url = "https://dog.ceo/api/breeds/image/random";
        let url2 = "https://randomfox.ca/floof/?ref=public_apis";

        async function getImage() {
            try {
                let res = await axios.get(url);
                let res2 = await axios.get(url2);
                profileImg.src = res.data.message;
                mainImg.src = res2.data.image;
            } catch(e) {
                console.log("failed loading profile image...");
            }
        }

        window.onload = function() {
            getImage();
        };
    </script>
</body>
</html>
